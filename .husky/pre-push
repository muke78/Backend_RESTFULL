
#!/bin/sh

BRANCH=$(git symbolic-ref --short HEAD)

if [ "$BRANCH" = "staging" ]; then
  echo "ğŸ“ EstÃ¡s en la rama 'staging'. Ejecutando pruebas..."
   echo "ğŸ§ª Ejecutando tests con servidor..."
  
  if ! pnpm test:with-server; then
    echo "âŒ Tests fallaron. Corrige los errores antes de hacer commit."
    exit 1
  fi
else
  echo "ğŸš« No estÃ¡s en la rama 'staging'. No se ejecutan los tests."
fi
